import r from"fs";import*as o from"path";import{fileURLToPath as e}from"url";let t=null;function n(){let t=o.dirname(e(import.meta.url));for(;!r.existsSync(o.join(t,"package.json"));)t=o.dirname(t);return t}n();const s=()=>{const e=o.join(n(),"alist.json");return new Promise((o=>{if(t)return o(t);r.readFile(e,"utf8",((r,e)=>{if(r)console.error("读取配置文件失败：",r);else try{const r=JSON.parse(e);return console.log("读取到的配置内容：",r),t=r,o(r)}catch(r){console.error("解析配置文件内容出错：",r)}}))}))};export{s as getConfig};
